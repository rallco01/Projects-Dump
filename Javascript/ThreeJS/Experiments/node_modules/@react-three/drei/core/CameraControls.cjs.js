"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/extends"),r=require("three"),t=require("react"),n=require("@react-three/fiber"),u=require("camera-controls");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var o=a(e),l=c(r),s=c(t),f=a(u);const i=t.forwardRef(((e,r)=>{t.useMemo((()=>{f.default.install({THREE:l}),n.extend({CameraControlsImpl:f.default})}),[]);const{camera:u,domElement:a,...c}=e,i=n.useThree((e=>e.camera)),d=n.useThree((e=>e.gl)),m=n.useThree((e=>e.invalidate)),b=n.useThree((e=>e.events)),p=u||i,h=a||b.connected||d.domElement,j=t.useMemo((()=>new f.default(p)),[p]);return n.useFrame(((e,r)=>{j.enabled&&j.update(r)}),-1),t.useEffect((()=>(j.connect(h),()=>{j.disconnect()})),[h,j,m]),s.createElement("primitive",o.default({ref:r,object:j},c))}));exports.CameraControls=i;
